<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Fill Me In">
<meta name="author" content="John Doe">
<title>Preston: SE Weather</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- STYLE SHEETS -->
<link href="css/normalize.css" rel="stylesheet">
<link href="css/small.css" rel="stylesheet">
<link href="css/medium.css" rel="stylesheet">
<link href="css/large.css" rel="stylesheet">

<script src="scripts/hamburger.js"></script>
<script src="scripts/windchill.js"></script>
<script src="scripts/currentdate.js"></script>



</head>

<body>

<header class="wrap">
    <figure>
        <img src= "images/weather_logo.png" alt="weather logo">
      </figure>
      <div>
  <h1>Southeast Idaho Weather</h1>
  <h2>For All Your Weathery Needs</h2>
    </div>
</header>
  
<nav class="clearfix">
  <button onclick="toggleMenu()">&#9776;</button> 
<ul id="primaryNav">
  <li class="active"><a href="#">Home</a></li>
  <li><a href="preston.html">Preston</a></li>
  <li><a href="sodasprings.html">Soda Springs</a></li>
  <li><a href="fishhaven.html">Fish Haven</a></li>
  <li><a href="stormcenter.html">Storm Center</a></li>
  <li><a href="gallery.html">Gallery</a></li>

</ul>
</nav>

<main class="home">
    
    <script>
        //Uses JSON to import data from URL below:
        var section = document.querySelector('main');
        var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
        var request = new XMLHttpRequest();
        
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();
        
        request.onload = function() {
            var townData = request.response;
            showData(townData);
        }
            
        function showData(jsonObj) {
            var towns = jsonObj['towns']
        
            for (var i = 0; i < towns.length-4; i++){
            var myArticle = document.createElement('article');
            var myH2 = document.createElement('h2');
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
            var myImg = document.createElement('img');
        
            if (towns[i].name == "Franklin") {
                myImg.setAttribute('src', 'images/bear.jpg');
                myImg.setAttribute('alt', 'Franklin Image');
            } 
            else if (towns[i].name == "Fish Haven") {
                myImg.setAttribute('src', 'images/waterfallpic.jpg');
                myImg.setAttribute('alt', 'Fish Haven');
            } 
            else if (towns[i].name == "Greenville") {
                myImg.setAttribute('src', 'images/snowytrees.jpg');
                myImg.setAttribute('alt', 'Greenville');
            }
        
            myH2.textContent = towns[i].name;
            myPara1.textContent = towns[i].motto;
            myPara2.textContent = 'Year founded: ' + towns[i].yearFounded;
            myPara3.textContent = 'Current population: ' + towns[i].currentPopulation;
            myPara4.textContent = 'Average annual rainfall: ' + towns[i].averageRainfall;
        
            myArticle.append(myH2);
            myArticle.append(myPara1);
            myArticle.append(myPara2);
            myArticle.append(myPara3);
            myArticle.append(myPara4);
            myArticle.append(myImg);
        
            section.appendChild(myArticle);
        }
    }
    </script>
</main>
<footer class= "one">
    <h3>
      Address:
    </h3>
    <p> Southeast Idaho Weather <br>
      1234 Quail Lane <br>
      Preston, Idaho 83567</p>
      <h3>
        Phone:
      </h3>
      <p>(208)-597-2350</p>
      <h3>
          Email:
        </h3>
        <p>seidahoweather@idaho.com</p>
    </footer>
<footer>
  &copy; Maren Graham | 
  <span id="datetime"><script src="scripts/currentdate.js"></script>
</footer>
</body>
</html>